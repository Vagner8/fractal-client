<mat-drawer-container class="mat-drawer-container-app-sidenav" autosize>
  <mat-drawer
    [opened]="ss.$managerEvent() === AppEvents.TOUCH"
    [disableClose]="false"
    class="mat-drawer-app-sidenav"
    mode="side"
    position="end">
    <div>
      <app-ordered-children [$fractal]="$fractal()" [templateRef]="collectionsTaps" />
      @if (ss.$sidenavTaps()?.is('Collections')) {
        <app-ordered-children [$fractal]="ss.pages" [templateRef]="pagesTaps" />
      }
    </div>
  </mat-drawer>
  <router-outlet />
</mat-drawer-container>

<ng-template #pagesTaps let-page><app-tap [$fractal]="page" (touch)="onTouch($event)" /></ng-template>
<ng-template #collectionsTaps let-collection
  ><app-tap [$fractal]="collection" (hold)="onHold($event)" (touch)="onTouch($event)"
/></ng-template>
