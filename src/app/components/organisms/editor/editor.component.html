@let isNewChildrenEmpty = ss.newChildren.isEmpty;
@let isSelectedChildrenEmpty = ss.selectedChildren.isEmpty;

<div class="modifier">
  @if (isNewChildrenEmpty && isSelectedChildrenEmpty && ss.currentFractal.$value(); as currentFractal) {
    <app-fractal-form [fractal]="currentFractal" />
  }

  @if (!isSelectedChildrenEmpty) {
    <app-list [dataSource]="ss.selectedChildren.$value()" [templateRef]="fractalForm" />
  }

  @if (!isNewChildrenEmpty) {
    <app-list [dataSource]="ss.newChildren.$value()" [templateRef]="fractalForm" />
  }
</div>

<ng-template #fractalForm let-fractal>
  <app-fractal-form [fractal]="fractal" />
</ng-template>
