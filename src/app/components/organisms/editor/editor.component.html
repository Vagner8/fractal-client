@let parent = ss.selectedCollection.$value();
@let children = ss.selectedChildren.$value();
@let newChildren = ss.newChildren.$value();

@if (parent) {
  <div class="controls">
    @for (child of children; track child.cursor; let index = $index) {
      <app-card [$title]="index + 1">
        @for (cursor of child.parent.getArray('Occ'); track cursor) {
          @if (child.findControl([cursor]); as control) {
            <app-control-form [$control]="control" />
          }
        }
      </app-card>
    }
    @for (child of newChildren; track index; let index = $index) {
      <app-card [$title]="words.NEW">
        @for (control of child.$newControls(); track control.cursor) {
          <app-control-form [$control]="control" />
        }
      </app-card>
    }
  </div>
}
