@let isNewChildrenEmpty = fs.newChildren.isEmpty;
@let isSelectedChildrenEmpty = fs.selectedChildren.isEmpty;

<div class="modifier">
  @if (isNewChildrenEmpty && isSelectedChildrenEmpty && fs.currentFractal.$value(); as currentFractal) {
    <app-fractal-form [fractal]="currentFractal" />
  }

  @if (!isSelectedChildrenEmpty) {
    <app-list [dataSource]="fs.selectedChildren.$value()" [templateRef]="fractalForm" />
  }

  @if (!isNewChildrenEmpty) {
    <app-list [dataSource]="fs.newChildren.$value()" [templateRef]="fractalForm" />
  }
</div>

<ng-template #fractalForm let-fractal>
  <app-fractal-form [fractal]="fractal" />
</ng-template>
