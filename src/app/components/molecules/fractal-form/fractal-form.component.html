<form>
  <app-card
    [title]="isNewFractal ? 'New' : title"
    [selected]="ss.selectedForm.$value() === fractal"
    (cardHeaderClicked)="formClicked($event)">
    <app-list [dataSource]="dataSource" [templateRef]="fields"> </app-list>
  </app-card>
</form>

<ng-template #fields let-indicator>
  @if (fractal.controls.get(indicator); as control) {
    @if (ss.$fullEditMode()) {
      <app-all-field [control]="control" />
    } @else {
      <app-data-field
        [field]="control.dto.field"
        [fractal]="fractal"
        [dataForm]="control.getFromControl('data')"
        [indicator]="indicator" />
    }
  }
</ng-template>
