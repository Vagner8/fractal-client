<ul [class.two-items]="dataSource.length === 2" [class.three-or-more-items]="dataSource.length >= 3">
  @for (data of dataSource; track trackFn(data)) {
    @if (!isFractal(data) || data.$selected()) {
      <li>
        <ng-container *ngTemplateOutlet="templateRef; context: { $implicit: data, index: $index }"></ng-container>
      </li>
    }
  }
</ul>
